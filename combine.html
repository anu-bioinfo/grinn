<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>grinn R package</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <img src="images/logo.png" alt="" width="450px">
      <a href="https://github.com/kwanjeeraw/grinn" class="btn">View on GitHub</a>
      <a href="https://github.com/kwanjeeraw/grinn/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/kwanjeeraw/grinn/tarball/master" class="btn">Download .tar.gz</a>
    </section>
    <section class="main-content">
      <hr>
          <h2><a id="combineNetwork" class="anchor" href="#combineNetwork" aria-hidden="true"><span class="octicon octicon-link"></span></a>combineNetwork - combine a grinn network to a provided network</h2>
          <h3>Description</h3>
          <p>The function combines a grinn network computed from fetchGrinnNetwork to a network generated by fetchCorrNetwork, fetchWGCNAModule, fetchDiffCorrNetwork where returnAs = "tab".
          Or it can combine other networks with defined format, see othernw.</p>
          <h3>Usage</h3>
          <p>combineNetwork(grinnw, othernw, returnAs)</p>
          <h3>Arguments</h3>
          <table>
            <tr><td>grinnw</td><td>list of nodes and edges, queried from grinn internal database using fetchGrinnNetwork.</td></tr>
            <tr><td>othernw</td><td>list of nodes and edges, computed from fetchCorrNetwork, fetchWGCNAModule, fetchDiffCorrNetwork where returnAs = "tab",
            or generated by other methods. If using other methods, the input network must be in the following format: <br>
            nodes = data.frame(id,nodename,nodetype) #nodes contain at least 3 columns with defined names<br>
            edges = data.frame(source,target,reltype,relname) #edges contain at least 4 columns with defined names<br>
            othernw = list(nodes,edges) <br>
            Also by using other methods, node ids should be converted to grinn ids.
            It can be done by convertToGrinnID before generating the input network.</td></tr>
            <tr><td>returnAs</td><td>string of output type. Specify the type of the returned network. It can be one of "tab","json","cytoscape", default is "tab". "cytoscape" is the format used in Cytoscape.js</td></tr>
          </table>
          <h3>Value</h3>
          <p>list of nodes and edges. The list is with the following componens: edges and nodes. Return empty list if error.</p>
          <h3>Examples</h3>
          <pre><code>
# Create metabolite-protein network from the list of metabolites using grinn ids and combine the grinn network to a correlation network
kw <- c('X160','X300','X371')
grinnnw <- fetchGrinnNetwork(txtInput=kw, from="metabolite", to="protein")
dummy <- rbind(nodetype=rep("metabolite"),t(mtcars))
colnames(dummy) <- c('X160','X300','X371','X367',paste0('X',sample(400:22000, 28)))
corrnw <- fetchCorrNetwork(datNormX=dummy, datNormY=NULL, corrCoef=0.5, pval= 1e-12, method="pearson", returnAs="tab")
result <- combineNetwork(grinnnw,corrnw)
library(igraph)
plot(graph.data.frame(result$edges[,1:2], directed=FALSE))

# Create metabolite-protein network from the list of metabolites using grinn ids and combine the grinn network to a provided network
txtInput <- list('X371','X783','X1.1')
grinnnw <- fetchGrinnNetwork(txtInput, from="metabolite", to="protein")
othernw = list()
othernw$nodes = data.frame(id=c("X371","X783","XXX","YYY"),nodename=c("X371","X783","XXX","YYY"),nodetype=c("metabolite","metabolite","protein","protein"),stringsAsFactors = FALSE)
othernw$edges = data.frame(source=c("X371","X783"),target=c("XXX","YYY"),corr_coef=c(-0.368,0.385),pval=c(0.000927,0.000497),reltype=c("Metabolite_Protein","Metabolite_Protein"),relname=c("CORRELATION","CORRELATION"),stringsAsFactors = FALSE)
result <- combineNetwork(grinnnw,othernw)
          </pre></code>
          <p>Go to <a href="index.html">HOME</a> | <a href="document.html">Documentation</a> | <a href="fgrinn.html">fetchGrinnNetwork</a> | <a href="fcorrgrinn.html">fetchCorrGrinnNetwork</a> | <a href="fdiffcorr.html">fetchDiffCorrGrinnNetwork</a>
          | <a href="fmodule.html">fetchModuGrinnNetwork</a> | <a href="fgrinncorr.html">fetchGrinnCorrNetwork</a></p>
        <hr>
        <footer>
          &copy;KW UC Davis, 2015, Grinn is maintained by <a href="https://github.com/kwanjeeraw">kwanjeeraw</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>
      </section>
          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-61396514-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
  </body>
</html>
